<form name="newForm" class="form-horizontal">
	<div class="row">
		<div class="col-md-12">
			<div class="form-group"
				 ng-class="{'has-success': newForm.first.$valid,
				 			'has-error': newForm.first.$invalid &&
				 						 newForm.first.$dirty}">
				<label for="firstName"
					   class="col-md-5 form-label">First Name:</label>
				<div class="col-md-7">	
					<div class="input-group">
						<input type="text"  
							   class="form-control input-sm"
							   name="first"
							   id="firstName"
							   ng-model="newUser.firstName" 
							   placeholder="First name"
							   required
							   ng-maxlength=32>
						<span class="input-group-addon input-addon">
							<span class="glyphicon glyphicon-ok form-control-feedback input-glyphicon"
								  ng-show="newForm.first.$valid"></span>
							<span class="glyphicon glyphicon-ban-circle form-control-feedback input-glyphicon"
								  ng-show="newForm.first.$invalid &&
							  		       newForm.first.$dirty"></span>
						</span>
					</div>
					<div class="panel panel-xs panel-danger"
						 ng-show="newForm.first.$dirty && newForm.first.$invalid">
						<div ng-messages="newForm.first.$error">
							<div ng-message="required">
								<span class="glyphicon glyphicon-exclamation-sign"></span>
								<small>A first name is required</small>
							</div>
							<div ng-message="maxlength">
								<span class="glyphicon glyphicon-exclamation-sign"></span>
								<small>A first name cannot be longer than 32 characters</small>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-md-12">
			<div class="form-group"
				 ng-class="{'has-success': newForm.last.$valid,
				 			'has-error': newForm.last.$invalid &&
				 						 newForm.last.$dirty}">	
				<label for="lastName"
					   class="col-md-5 form-label">Last Name:</label>
				<div class="col-md-7">	
					<div class="input-group">
						<input type="text" 
							   class="form-control input-sm"
							   name="last"
							   id="lastName"
							   ng-model="newUser.lastName" 
							   placeholder="Last name"
							   required
							   ng-maxlength=32>
						<span class="input-group-addon input-addon">
							<span class="glyphicon glyphicon-ok form-control-feedback input-glyphicon"
								  ng-show="newForm.last.$valid"></span>
							<span class="glyphicon glyphicon-ban-circle form-control-feedback input-glyphicon"
								  ng-show="newForm.last.$invalid &&
							  		       newForm.last.$dirty"></span>
						</span>
					</div>
					<div class="panel panel-xs panel-danger"
						 ng-show="newForm.last.$dirty && newForm.last.$invalid">
						<div ng-messages="newForm.last.$error">
							<div ng-message="required">
								<span class="glyphicon glyphicon-exclamation-sign"></span>
								<small>A last name is required</small>
							</div>
							<div ng-message="maxlength">
								<span class="glyphicon glyphicon-exclamation-sign"></span>
								<small>A last name cannot be longer than 32 characters</small>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-md-12">
			<div class="form-group"
				 ng-class="{'has-success': newForm.phone.$valid,
				 	    	'has-error': newForm.phone.$invalid &&
				 	    				 newForm.phone.$dirty}">	
				<label for="phone"
					   class="col-md-5 form-label">Phone Number:</label>
				<div class="col-md-7">
					<div class="input-group">	
						<input type="tel" 
							   class="form-control input-sm"
							   name="phone"
							   id="phone"
							   ng-model="newUser.phone" 
							   placeholder="xxx-xxx-xxxx"
							   required
							   ng-pattern="/^\(?(\d{3})\)?[-|' ']?(\d{3})[-|' ']?(\d{4})$/">
						<span class="input-group-addon input-addon">
							<span class="glyphicon glyphicon-ok form-control-feedback input-glyphicon"
								  ng-show="newForm.phone.$valid"></span>
							<span class="glyphicon glyphicon-ban-circle form-control-feedback input-glyphicon"
								  ng-show="newForm.phone.$invalid &&
							  		       newForm.phone.$dirty"></span>
						</span>
					</div>
					<div class="panel panel-xs panel-danger"
						 ng-show="newForm.phone.$dirty && newForm.phone.$invalid">
						<div ng-messages="newForm.phone.$error">
							<div ng-message="required" class=>
								<span class="glyphicon glyphicon-exclamation-sign"></span>
								<small>An phone number is required.</small>
							</div>
							<div ng-message="pattern">
								<span class="glyphicon glyphicon-exclamation-sign"></span>
								<small>A phone number must match any combination the following patters: xxxxxxxxxx, xxx xxx xxxx, xxx-xxx-xxxx</small>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-md-12">
			<div class="form-group"
				 ng-class="{'has-success': newForm.email.$valid && newForm.email.$dirty,
				 			'has-error': newForm.email.$invalid && newForm.email.$dirty}">	
				<label for="email"
					   class="col-md-5 form-label">Email Address:</label>
				<div class="col-md-7">
					<div class="input-group">	
						<input type="email" 
							   class="form-control input-sm"
							   name="email"
							   id="email"
							   placeholder="user@domain.com"
							   ng-model="newUser.email"
							   ng-change="checkEmail(newUser.email)"
							   required
							   ng-minlength=6>
						<span class="input-group-addon input-addon">
							<span class="glyphicon glyphicon-ok form-control-feedback input-glyphicon"
								  ng-show="newForm.email.$valid"></span>
							<span class="glyphicon glyphicon-ban-circle form-control-feedback input-glyphicon"
								  ng-show="newForm.email.$invalid &&
							  		       newForm.email.$dirty"></span>
						</span>
					</div>
					<div class="panel panel-xs panel-danger"
						 ng-show="newForm.email.$dirty && newForm.email.$invalid">
						<div ng-messages="newForm.email.$error">
							<div ng-message="required">
								<span class="glyphicon glyphicon-exclamation-sign"></span>
								<small>An email address is required</small>
							</div>
							<div ng-message="minlength">
								<span class="glyphicon glyphicon-exclamation-sign"></span>
								<small>An email address must contain more 5 characters.</small>
							</div>
							<div ng-message="email">
								<span class="glyphicon glyphicon-exclamation-sign"></span>
								<small>An email address must follow the pattern: user@domain</small>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<a ui-sref="users" 
	   class="btn btn-success pull-right"
	   ng-disabled="newForm.$invalid || newForm.$pristine || !uniqueEmail"
	   ng-click="addUser(newUser)">Add User</a>
</form>